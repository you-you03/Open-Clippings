---
title: "AIを用いた開発の効率を最大化させるためにやっていることを全部書く"
source: "https://zenn.dev/ks0318/articles/4b201527b383fa"
author:
  - "[[Zenn]]"
published: 
created: 2025-09-03
description: ""
tags: ["ai", "プロダクト", "clippings", "gpt"]
image: "assets/og-base-w1200-v2.png"
---
こんにちは、しば田です。

AI を用いたプログラミング、中々難しいです。  
日々どうしたら効率を最大化できるかを日々試行錯誤していますが、なかなか正解に辿り着けている気もしないしモデルの登場のたびにチューニングが必要なのでツラいですね。

この記事では、自分の思考整理も兼ねて常日頃から私が意識して行っている Tips に関してまとめてみました。重要なことから些末なことまで全て書いています。

最近、Cursorのコミュニティが出していたTips17選に対して自分の考えを書いたのですが、  
反響があったのでもっと網羅的に書きたいなと思い記事を書くことにしました。（30個くらいあります。）  
<https://x.com/KeisukeShibata_/status/1906859919439200690>

※記事の対象者は Cursor、Windsurf、Cline（Roo）あたりを使ってプログラミングしている人を想定しています。  
※一覧性を優先するのでそれぞれを深くは語りません。  
※多分抜け漏れがあるので適宜追加します。

PRD を作る
-------

**新規でプロジェクトを始める際には最低でも以下のマークダウンファイルを作成**します。（実際にはプロジェクト毎に少しずつ異なるのと順番はテキトーです）

```
├── 000_overview.md                  # プロジェクトの概要
├── 001_pages.md                     # 必要なページの一覧
├── 002_api.md                       # API設計
├── 003_structure.md      　　　　　　 # コードベースの構造
├── 004_techStack.md                 # 使う技術スタック
├── 005_research.md                  # 調査が必要な事項の調査結果（外部のAPI等）
├── 006_db.md                        # DB設計
├── 007_infra.md                     # インフラ図
├── 008_core.md                      # コア機能の処理フロー
├── 009_tasks.md                     # 全体を俯瞰してのタスクリストとスケジュール
└── 010_other.md                     # その他の非機能要件など何かあれば
```

AIが参照できるようMDで書かれた要件定義/設計ファイルみたいな感じです。  
最初にこれ作っとくと人間も他のメンバーもAIも迷わなくなります。

考えてみると別にやっていることは、AIがない頃と変わってません。要件定義/設計大事という話です。

Rulesを作る
--------

Rulesファイルには、**AIにどう振舞って欲しいか、や、覚えて置いて欲しいこと**を書きます。

* 日本語で返答してね
* ユーザーの指示によって、「計画立案モード」、「実装モード」、「デバッグモード」を決めて、それに沿って以下の振る舞いをして
* 計画立案する時は〜〜〜のフォーマットでabout.mdに計画を書き出して下さい

など。

あとはプロジェクト固有のパッケージやフレームワークに関する共有事項などです。

* Next15のawait params（AIは14以前のやり方で書いてくる）
* Supabaseのauth-helpers-nextjs（deprecated）
* APIクライアントはyarn codegenで自動生成しているよ

など。

Windsurfではメモリも使います。

Rulesを育てる（都度更新する）
-----------------

Rules は一度作って終わりではないので、**必要があれば更新**していきます。

分かりやすい例で言うと、プロジェクトのフォルダ構成を示す structure.md はフォルダやファイルが新規で作成された時には更新する必要があります。

また、AIと開発をしていると毎回言わせないでくれよみたいな状況が結構起きます。その際にも追加します。かなり面倒ですが必要があるたび書き足しています。

以前、CursorのProject Rulesに関して記事を書きましたのでよければ。（今は実はGeminiを使い出してからrulesを全消しして再出発していますが）  
<https://zenn.dev/ks0318/articles/b8eb2c9396f9cb>

Rulesに無駄なことは書かない
----------------

「育てる」と矛盾しているようですが、大きすぎるとコンテキストウィンドウの圧迫につながって抜け漏れが起きます。

Rulesを見直す
---------

モデルごとの振る舞いがあるので、常に使うモデルに合わせたものに変えていく必要があります。

タスクリストを用意して実装ログを残す
------------------

Github の Issue 毎に行ってます。  
こんな感じです。

```
context/
├── prd/
├── issues/ // コレ
	├── #1250/
		├── 000_about.md              // issueの内容
		├── 001_task.md　　　　　　　　　// issueのタスクリスト
		├── DevLogs/　　　　　　　　　   // 実装ログ
			├── 250301.md
			├── 250302.md
			├── 250303.md
			├── 250304.md
	├── #1251/
		├── 000_about.md
		├── 001_task.md
		├── DevLogs/　　　　　　　　　　　
			├── 250301.md
			├── 250302.md
			├── 250303.md
			├── 250304.md
```

他のセッションに切り替える時もタスクリストと実装ログを渡せばすぐにキャッチアップさせられます。実装ログは、**ユーザーの指示 + 編集したファイル、編集内容のセット**です。

タスクリストは完了したらチェックする、実装ログを残す　なども全てrulesに追加して半自動化（毎回完璧にはやってくれない）しています。

1度に行う実装は小さめに
------------

そもそもタスクも小さくしていますが、1ターンの会話内での実装も小さくすることで成功率を上げています。段階的にこなすようプロンプトで指示しています。

実装前に計画を徹底的に練らせる
---------------

実装前には必ず実装計画を作らせます。  
関わっているフォルダやファイルを全て徹底的に洗わせます。  
**AIは基本的に与えられているコンテキストの中で答えを出そうとする**ので全て網羅的に渡します。

Geminiはコンテキストウィンドウを気にせず与えまくれるので計画立案に特に向いていると思っています。（実装もいいですが）

必要なファイルは網羅的に参照させる
-----------------

1個前の話と被りますが、与えられているものが全て　となりがちなので  
必ず依存関係を把握して関連ファイルは全て網羅的にいれるようにします。

もし分からなければ、Gemini2.5にフォルダごとボカンと渡して関連ファイルを洗ってもらいます。

モデルを使い分ける
---------

今だと、Gemini2.5proとSonnet3.7の併用はとてもいい感じです。  
Gemini2.5proのコンテキストウィンドウのサイズのメリットを活かして徹底的にコンテキスト入れまくって計画立案させて実装はSonnet3.7にさせたりしています。Gemini2.5proのまま実装するのも全然あります。

セッションをこまめに切り替える
---------------

コンテキストウィンドウ対策です。**コンテキストが大きくなってくると性能が落ちます**。  
過去の指示や作業内容を忘れてしまうためです。**特に中間部分が落ちます**。

基本的には、**1セッションでは1タスクのみ**にして切り替えています。  
タスクの粒度も結構小さめにしてます。  
セッションを終わる前に必ずタスクリストの更新と実装ログを残します。そして次のセッションで渡します。Cursorの会話サマリとかはあまりにコンテキストとしては物足りないので。

※**Gemini2.5proは例外**です。複数タスクやらせています。  
コンテキストウィンドウがでかいからです。  
最初にしっかり計画策定させてタスクリスト作らせて合意とれば、本当に脱線しないです。  
仮に実装中に意図的に本題から逸れた修正等を行なっても戻ってこれます。  
毎度コンテキストを与え直さなくて済むのでむしろ楽だなと思っています。

コンテキストウィンドウに関しての記事：  
<https://zenn.dev/tesla/articles/ade9883b2f62c9>

README.mdを各フォルダに置く
------------------

各モジュールごと？に設置して、そのフォルダ内で何をやっているかをマーメイドなどで記載します。フォルダごと参照させた際にLLMへの追加資料となるし、関連ファイルとして近くに置いておくと読み込まれる可能性が上がります。

プロンプトは丁寧に
---------

何度もやり取りしているとテキトーになりがちですが、  
常に明確で抜け漏れのないように注意を心がけています。  
タイピングは面倒なのでSuperWhisperで音声入力がおすすめです。

否定系の命令を避ける
----------

rulesでもプロンプトでも避けるようにしています。  
このテクニックは最近知って早速試していますがいい感じです。

<https://x.com/kenn/status/1907802197469123067>

作業中のAIの常時監視
-----------

いわゆる、高速目grepというやつですね。  
途中経過を目で確認しておかしくなっていそうであればすぐにツッコミを入れて軌道修正します。

めっちゃ疲れますが、基本的にはやっています。  
あまりに強度が高いので高速目grepはせずに、チェックポイントを使用するこちらの方法に切り替えるかもしれません。  
<https://zenn.dev/erukiti/articles/2504-coding-agent>

エラーを修正させることに固執しない
-----------------

AI は修正ループにハマります。  
ドライバー交代し自分で解決するか、既存の実装をごっそり捨てます。  
フォルダ、ファイル、関数ごとなど適切な単位で捨てます。

**AIは既存実装は正しいと思い込むので修正が難しい**です。

**サンクコストのせいで消す範囲を限定しがちですが大胆に消すのがポイント**です。

MCP
---

Github、21st.dev、Brave Searchを使っています。  
が、使用頻度はそこまで多くないです。

MDファイルの名前に番号や日付をいれる
-------------------

参照しやすくなるので非常におすすめです。  
001\_task.md　など

よく使う指示はMDファイルに取っておく
-------------------

rulesに入れるほどでもないけどよくプロンプトで書くなぁという内容、rulesでも書いているけど再度書きたい内容は個別のMDファイルに入れておいて適宜@参照させます。

「フォルダ内のファイルを網羅的に確認して完璧な実装プランを作成してください」  
「1つのボトルネックにのみ集中してください」

のような感じです。CursorのNotepad的な使い方です。

TDD
---

不要論も結構聞きますが、AI前から行っていたこともあり継続して使用しています。  
タスクにもよりますが、テストケース作成と実装を両方させて、自分が確認・修正指示します。

DDD
---

AI前から行っていたこともあり継続して使用しています。

こまめなセーブ（Git の活用）
----------------

言わずもがなですね。大火傷防止。

使う技術スタックを固定する
-------------

無理な時は無理ですが、rulesをある程度固定化できたりするので楽です。  
AIとの相性などもあるのでWebはTS一本化しています。

Claude Desktopを併用する
-------------------

サブスクなので使い倒します。  
ファイルなどのコンテキストが不要でただ調査しまくりたい時などはBraveSearch MCPを装備したClaude Desktopで調べます。

AIをキャラクター化する
------------

可愛くしておけばミスを許せるようになります。キャラクターが抜けてくるとコンテキストが一杯なのかもという1つの目安にもなります。

通知音を使う
------

集中力を保つのが難しい人にはとてもおすすめです。  
Clineは初期からありました、CursorとWindsurfは最近追加されましたのですぐにONにしました。

可能な限り英語を使う
----------

プロンプトは全て英語で入力します。（英語話者です）  
なぜだか日本語より簡潔で網羅的に書けます。

コマンドのオート実行はOFFにする
-----------------

結構意見が分かれそうですが...  
2つの理由からです。

* 大怪我防止
* 集中力持続
  + LLMとの会話のタッチポイントになります。Rooは承認が必要なたびに音を鳴らしてくれるのでぼーっとしてても返ってこれます。

音声入力を使う
-------

SuperWhisperを使っています。Macのf5でも十分使えると思います。

深呼吸
---

うまくいかない時は深呼吸して休憩するか別の作業をします。

最後に
---

ココロの健康を守りつつ楽しく AI 使っていきましょう・・！！

追記
--

忘れていたものなど

* 4/16 ファイルは小さく分割することでミスを最小限に抑える
* 4/16 ガチャを回しまくる

X やっています
--------

AI x 開発というテーマで今年から発信を始めました。  
よければフォローよろしくお願いします！  
<https://x.com/KeisukeShibata_>

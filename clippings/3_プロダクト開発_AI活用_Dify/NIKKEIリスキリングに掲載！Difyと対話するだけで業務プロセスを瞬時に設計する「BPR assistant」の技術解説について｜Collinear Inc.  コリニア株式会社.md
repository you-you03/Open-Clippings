---
title: NIKKEIリスキリングに掲載！Difyと対話するだけで業務プロセスを瞬時に設計する「BPR assistant」の技術解説について｜Collinear
  Inc. | コリニア株式会社
source: https://note.com/clnr_official/n/n3795413024bc
author:
- '[[Collinear Inc. | コリニア株式会社]]'
published: 2025-07-10
created: 2025-07-10
description: はじめに  このたび NIKKEIリスキリング 様にて、当社が Dify を用いて開発した AI と対話しながら業務フローをその場で組み立てられる
  「BPR assistant」ワークフロー をご紹介いただきました。記事では制作の背景やビジネス的な狙いについてインタビュー形式で取り上げていただいております。  本稿では、インタビューでは話し切れなかった
  技術面の工夫や実装のポイント を中心に、より詳しく解説いたします！  ビジネス視点からの考察に関心がある方は、ぜひ NIKKEI リスキリングのインタビュー記事をご覧ください▼   業務の「見える化」も生成AIで　「自分
tags:
- clippings
- dify
- ai
- プロダクト
- bpr
---
![見出し画像](https://assets.st-note.com/production/uploads/images/199742152/rectangle_large_type_2_9257b498d3f8f4b892b87ec7e71492b5.png?width=1200)

## NIKKEIリスキリングに掲載！Difyと対話するだけで業務プロセスを瞬時に設計する「BPR assistant」の技術解説について

[Collinear Inc. | コリニア株式会社](https://note.com/clnr_official)

## はじめに

このたび **NIKKEIリスキリング** 様にて、当社が **Dify** を用いて開発した AI と対話しながら業務フローをその場で組み立てられる **「BPR assistant」ワークフロー** をご紹介いただきました。記事では制作の背景やビジネス的な狙いについてインタビュー形式で取り上げていただいております。

本稿では、インタビューでは話し切れなかった **技術面の工夫や実装のポイント** を中心に、より詳しく解説いたします！

ビジネス視点からの考察に関心がある方は、ぜひ NIKKEI リスキリングのインタビュー記事をご覧ください▼  

[**業務の「見える化」も生成AIで　「自分の仕事を説明できない」をなくす | NIKKEIリスキリング** *企業や自治体など生成AIの活用の輪が広がってきました。業務効率化、時短で大きな威力を発揮しています。最新の生成AI情報が飛* *reskill.nikkei.com*](https://reskill.nikkei.com/article/DGXZQOLM080HA0Y5A700C2000000/)

  

---

---

## 制作物について

![画像](https://assets.st-note.com/img/1751419456-xWlJeNImjUnQ8RbpSGzV09wq.png?width=1200)

「BPR assistant」ワークフローの全体像

### BPR assistant とは？

**BPR assistant** は、 **AI と対話をするだけで業務フローを言語化できる** ワークフロー支援ツールです。

従来はコンサルタントが数時間から数日にわたって実施していた「ヒアリング → 業務の細分化 → Excelやスプレッドシートなどでの表形式での出力」という一連のプロセスを、利用者ご自身が短時間で完結できるようにすることを目指して開発しました。

以下はBPR assistantのデモ動画です。

  

### 誰の、どんな課題を解決するのか

**① DX 推進担当・業務改善チーム**

> BPR assistant は **AI がコンサルタントの代わりに現場担当者へ順序立てて質問を投げかける** ため、聞き漏れを防ぎながらヒアリングの手間を大幅に削減できます。

**② 現場のビジネスパーソン**

> 「業務をどこまで細かく書き出せばよいのか迷い、資料づくりがなかなか進まない...」そんな悩みも、BPR assistant なら対話に答えていくだけで最適な粒度に分解され、Excel やスプレッドシートで使える表まで自動生成されるため、外部の手を借りずに標準化が着実に進みます。

**③ コンサルタントを活用する企業**

> 成果物を早く受け取りたい一方で、コストやコミュニケーション負荷は抑えたいというニーズに対し、BPR assistant で初期整理を社内で完結できるため、コンサルタントには高度な分析・提案だけを依頼すれば済み、プロジェクト期間と費用の両方を圧縮。

つまり、 **「業務の分け方が分からない」「作業時間が足りない」** という２大ボトルネックを、BPR assistant が一気に解消してくれます

---

## 技術的な工夫をした3つのポイント

ここからは、上記の課題を **BPR assistant** がどのような技術的工夫によって解消しているのかを説明していきたいと思います！

  

### 1\. テンプレートブロックでヒューマン・イン・ザ・ループ（HITL）を表現 ──「自動化」と「人の目」をなめらかに接続する

BPR assistant では、まず AI が対話を通じて業務内容を抽出するのですが、ただ抽出するだけではなく、どの工程においても「人間が最終編集者として介入できる場」を必ず用意しています。

たとえば「この工程をもう一段細かく分けたい」「承認フローを追加したい」といった要望が生じた場合、利用者はそのまま自然言語で修正指示を出せば即座に反映されます。これにより、 **自動化のスピード** と **人の判断による正確性** を両立させ、完成物の品質を担保しています。

Difyのテンプレートブロックではコードを記述することでフォームを生成することができます。フォームに入力された文章をユーザーが送信すると、「sys.query」に対して特定のラベルと入力文章が入るので、LLMブロックのプロンプトでそれらを制御することによりユーザーが出力に対して修正をすることができるようにしています。

テンプレートブロックでフォームを記述する方法はこちら▼

[**テンプレート - Dify Docs** *docs.dify.ai*](https://docs.dify.ai/ja-jp/guides/workflow/node/template)

  

### 2\. 音声・PDF も読めるマルチモーダル入力ができるように

BPR assistant は **既にあるマニュアルや手順書（PDF・Word など）をそのまま取り込める** うえ、 **「とりあえずスマホで話すだけ」でもスタートできる音声入力** にも対応しています。手元に資料があるときは再入力の手間をゼロに、資料がないときは思いついた順にしゃべるだけで AI が内容を汲み取り、足りない部分を自動で補完してくれる、そんなライトな体験を実現しました。

技術的には、入力値でファイルリストを設定しつつ、入力されたファイルリストデータをイテレーションで回すことでどのようなデータが来てもテキスト化をして業務分解の要素として組み込めるようにしています。

![画像](https://assets.st-note.com/img/1751419894-iXsg7vLrcYzJ6MheN5anCOWK.png?width=1200)

イテレーションの処理

音声についてはelebenlabsを採用し、それ以外はLLMブロックでGeminiのモデルのビジョン機能による処理をしています。Geminiのビジョン機能は画像のOCRだけではなく、PDFなどのドキュメントも読み込むことができるのでオススメです！

  

### 3\. LLMブロックのstructured\_outputでJSONデータを出力

BPR assistant では業務工程を全て洗い出したのちにスプレッドシートに出力ができるようにしております。スプレッドシートに関わらず何かをHTTPブロックで別サービスと繋げるときには、コードブロックでJSONデータの整形を行なっていましたが、今回のワークフローではDifyのLLMブロックの「structured\_output」を使用することで実現しています。

従来のようにコードブロックでの制御もできるのですが、コードを書かずとも「必ず同じ形の JSON」が返ってくるため、API 連携が劇的にシンプルになりました。非エンジニアにとっては“設定画面で選ぶだけ”の直感操作、エンジニアにとっては“毎回コードブロックを組む手間がゼロ”という、双方に嬉しい機能ですので紹介させていただきました！

具体的な設定部分としましてはLLMブロックからstructured\_outputを開き、設定の部分をクリックします。

![画像](https://assets.st-note.com/img/1751420045-0wCr67Eyx5PAfDIjomhvsJgM.png?width=1200)

LLMブロックのstructured\_outputから設定

Visualエディターが出てきますのでこちらで直感的にスキーマの設定が可能です。

![画像](https://assets.st-note.com/img/1751420082-VsOB7TRpbP8GftoCy54dwF21.png?width=1200)

Visualエディターで直感的に設定が可能

以下の公式の動画で設定方法など詳しく解説されていますので気になる方はご覧ください！

  

---

## おわりに

今回は、Dify で作成した **BPR assistant** ワークフローの技術的な裏側を紹介してみました。紹介したヒューマンインザループやマルチモーダル入力、structured\_output は、BPR assistant ではなくても応用がきくと思いますので、ぜひいろんなワークフローで試してみてください！

もしこの記事を読んで 「うちの業務にも使えそう！」 と感じていただけましたら、ぜひお気軽にお問い合わせください。

[**お問い合わせ | Collinear Inc.***Collinear Inc.のお問い合わせです。Collinear Inc.は、人とビジネスの可能性に多次元の拡がりを与え* *clnr.inc*](https://clnr.inc/contact)

また、私たちは 「夢中が躍動する世界をつくる」 というビジョンを掲げ、AI の可能性をさらに引き出しながら挑戦を続けています。  
「自分もこのようなプロダクトづくりに挑戦したい！」――そう感じてくださる方は、ぜひ私たちと一緒に AI を活用した新しい働き方を社会へ広めていきましょう。

[**Collinear Inc.***Collinear Inc.は、人とビジネスの可能性に多次元の拡がりを与え、夢中が躍動する世界をつくります。* *clnr.inc*](https://clnr.inc/)

一緒に働く仲間募集中！  
[カジュアル面談の応募はこちら](https://docs.google.com/forms/d/e/1FAIpQLSezwLowIbpVnTNTETYzowArQ6R6Lrk-iiLU1Erd3clyiU_HTQ/viewform)

## いいなと思ったら応援しよう！

## コメント

NIKKEIリスキリングに掲載！Difyと対話するだけで業務プロセスを瞬時に設計する「BPR assistant」の技術解説について｜Collinear Inc. | コリニア株式会社